Repository: ProgettoGestionaleBRT
Generated: 2025-10-06 (post-legacy-archive update, pre-archive deletion)

Purpose: Canonical map of current frontend/src after migration of components to shared/ and providers to app/providers. Serves as baseline before deleting `_legacy_archive` and `Components/` stub package.

LEGEND
 [UTIL] pure utility (no React rendering)
 [BARREL] index.js re-export aggregator
 [PLACEHOLDER] structural placeholder (needs owner or pruning)
 [SHIM] temporary re-export kept only to avoid breaking imports during transition

TOP-LEVEL SUMMARY
 - Active domains: auth, timesheet (+ future placeholders: accordi-quadro, commesse, gare, tags)
 - Shared component library: `shared/components/*` now hosts all UI previously in `Components/`
 - Providers: moved from `app/layouts/*Context` to `app/providers/*Provider`
 - Legacy shims remaining: `app/layouts/{AuthContext.jsx,ThemeContext.jsx}` (re-export providers) & `Hooks/useThemeContext.js` (re-export shared hook) â†’ safe to remove after grep zero external references
 - `_legacy_archive/` slated for deletion; not referenced by runtime code

CORE STRUCTURE (condensed)
src/
  App.jsx
  main.jsx
  app/
    providers/
      AuthProvider.jsx
      ThemeProvider.jsx
    layouts/ [SHIM]
      AuthContext.jsx [SHIM -> AuthProvider]
      ThemeContext.jsx [SHIM -> ThemeProvider]
      MainLayout.jsx
      ResizableLayout.jsx
      DataGridDashboardLayout.jsx
      index.js [BARREL]
  domains/
    auth/
      hooks/useAuth.js
      services/userService.js
    timesheet/
      components/calendar/(tiles, panels, utils, status icons) [UTIL in utils/]
      components/staging/(context UI & bar)
      hooks/(calendar, staging, dayEntry, utils [UTIL], validation [UTIL])
      pages/(TimesheetRouter + role-specific pages)
      services/(api.js placeholder, projectService.js placeholder)
  shared/
    components/
      Bars/(Header, Sidebar, SidebarItem, sidebarUtils.js [UTIL])
      BadgeCard/(Badge + utils)
      Buttons/ThemeSwitch.jsx
      Calendar/TileLegend.jsx
      DataGridDashboard/(FiltersBar, FiltersMenu, NavigationBar)
      DipendenteHomePage/CommesseDashboard.jsx
      Entries/{EntryListItem.jsx, EntryListPanel.jsx}
      Filters/(Date|Deadline|Employee|Status|Text Filter, ColorDot, FiltersMenu)
      Inputs/{SearchBar.jsx, CalendarioCard.jsx}
      NotificationMenu.jsx
      PageHeader.jsx
      TaskManager/TaskItem.jsx
      Avatar/(AvatarInitials, CustomAvatarGroup, utils/color.js [UTIL])
    dialogs/(EditEntryDialog, SegnalazioneDialog, index.js [BARREL])
    theme/(MainTheme.js, TemaDellaScienza.js)
    utils/dateRangeUtils.js [UTIL]
  Hooks/ [SHIM]
    useThemeContext.js [SHIM -> shared/hooks/useThemeContext]
  shared/hooks/
    useThemeContext.js
  mocks/(browser, handlers, sample data ...)
  Pages/(Home, Login, About) [TO DOMAIN]
  Routes/(RequireAuth, pagesConfig)
  _legacy_archive/ (AuthContext, ThemeContext, old Hooks) [PENDING DELETION]

KEY UTIL LOCATIONS
 - Timesheet domain: hooks/utils (computeDayUsed, semanticTimesheet, timesheetModel, roleCapabilities) [UTIL]
 - Calendar utilities: components/calendar/utils/* (date utils, status, month names, styling) [UTIL]
 - Shared generic: shared/utils/dateRangeUtils.js [UTIL]
 - UI support: shared/components/Bars/sidebarUtils.js [UTIL]; BadgeCard/utils/* [UTIL]
 - Validation: domains/timesheet/hooks/validation/validateDayHours.js [UTIL]
 - Status icons mapping: domains/timesheet/components/calendar/statusIcons.utils.js [UTIL]

PENDING REMOVALS (SAFE ONCE GREP CONFIRMED)
 1. `_legacy_archive/` directory
 2. `Hooks/useThemeContext.js` shim (replace all imports with `@shared/hooks/useThemeContext`)
 3. Layout shims `app/layouts/AuthContext.jsx` and `ThemeContext.jsx`
 4. Entire `Components/` (after confirming no stray imports; if already deleted remove this point)

RECOMMENDED NEXT TASKS
 - Delete `_legacy_archive` & shims; update import checker to drop exclusion clause
 - Add Vitest tests (computeDayUsed, semanticTimesheet, timesheetModel, stagingReducer)
 - Move `Pages/` into appropriate domain (e.g., auth or appShell)
 - Prune empty placeholder domain folders or add concise README stating intent
 - Document provider contract in `ARCHITECTURE.md` (AuthProvider value shape, ThemeProvider toggling API)
 - Consider alias removal for `@/Pages` once pages are domain-scoped

CHANGE LOG (this revision)
 - Removed verbose per-file legacy stub listing; replaced with concise active structure
 - Marked remaining shims & pending deletions explicitly
 - Updated util inventory to reflect migration to shared/
 - Added Recommended Next Tasks for post-archive phase

-- END UPDATED STRUCTURE --

