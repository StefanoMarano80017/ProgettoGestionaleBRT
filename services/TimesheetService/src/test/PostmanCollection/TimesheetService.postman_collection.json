{
  "info": {
    "name": "TimesheetService API",
    "_postman_id": "f6e3b45a-8b9d-4dcd-9a6f-321d7a52cba4",
    "description": "Collection di test per il microservizio TimesheetService",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "EmployeeController",
      "item": [
        {
          "name": "Get All Employees",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/employees"
          }
        },
        {
          "name": "Get Employee By ID",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/employees/1"
          }
        },
        {
          "name": "Create Employee",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mario Rossi\",\n  \"email\": \"mario.rossi@example.com\"\n}"
            },
            "url": "{{baseUrl}}/employees"
          }
        },
        {
          "name": "Update Employee",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mario Rossi Updated\",\n  \"email\": \"mario.rossi@newmail.com\"\n}"
            },
            "url": "{{baseUrl}}/employees/1"
          }
        },
        {
          "name": "Delete Employee",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/employees/1"
          }
        }
      ]
    },
    {
      "name": "TimesheetController",
      "item": [
        {
          "name": "Get Timesheets (Month Filter)",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/employees/1/timesheets?month=2025-09"
          }
        },
        {
          "name": "Get Timesheet Day",
          "request": {
            "method": "GET",
            "url": "{{baseUrl}}/employees/1/timesheets/2025-09-30"
          }
        },
        {
          "name": "Save Timesheet Day",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"COMPLETE\",\n  \"items\": [\n    {\n      \"commessaCode\": \"C001\",\n      \"description\": \"Sviluppo modulo X\",\n      \"hours\": 8\n    }\n  ]\n}"
            },
            "url": "{{baseUrl}}/employees/1/timesheets/2025-09-30"
          }
        },
        {
          "name": "Delete Timesheet Day",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/employees/1/timesheets/2025-09-30"
          }
        },
        {
          "name": "Add Timesheet Item",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"commessaCode\": \"C001\",\n  \"description\": \"Analisi\",\n  \"hours\": 4\n}"
            },
            "url": "{{baseUrl}}/employees/1/timesheets/2025-09-30/items"
          }
        },
        {
          "name": "Update Timesheet Item",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"commessaCode\": \"C001\",\n  \"description\": \"Test\",\n  \"hours\": 6\n}"
            },
            "url": "{{baseUrl}}/employees/1/timesheets/2025-09-30/items/10"
          }
        },
        {
          "name": "Delete Timesheet Item",
          "request": {
            "method": "DELETE",
            "url": "{{baseUrl}}/employees/1/timesheets/2025-09-30/items/10"
          }
        }
      ]
    },
    {
      "name": "ProjectController",
      "item": [
        { "name": "Get All Projects", "request": { "method": "GET", "url": "{{baseUrl}}/projects" } },
        { "name": "Get Project By ID", "request": { "method": "GET", "url": "{{baseUrl}}/projects/1" } },
        {
          "name": "Create Project",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"name\": \"Project X\",\n  \"description\": \"Descrizione progetto\"\n}" },
            "url": "{{baseUrl}}/projects"
          }
        },
        {
          "name": "Update Project",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"name\": \"Project Updated\",\n  \"description\": \"Nuova descrizione\"\n}" },
            "url": "{{baseUrl}}/projects/1"
          }
        },
        { "name": "Delete Project", "request": { "method": "DELETE", "url": "{{baseUrl}}/projects/1" } },
        { "name": "Get Project Commesse", "request": { "method": "GET", "url": "{{baseUrl}}/projects/1/commesse" } },
        {
          "name": "Add Commessa",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"code\": \"C001\",\n  \"description\": \"Commessa test\"\n}" },
            "url": "{{baseUrl}}/projects/1/commesse"
          }
        },
        {
          "name": "Update Commessa",
          "request": {
            "method": "PUT",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "{\n  \"code\": \"C001\",\n  \"description\": \"Commessa aggiornata\"\n}" },
            "url": "{{baseUrl}}/projects/1/commesse/1"
          }
        },
        { "name": "Delete Commessa", "request": { "method": "DELETE", "url": "{{baseUrl}}/projects/1/commesse/1" } }
      ]
    },
    {
      "name": "ReportController",
      "item": [
        { "name": "Hours by Project", "request": { "method": "GET", "url": "{{baseUrl}}/reports/hours-by-project" } },
        { "name": "Hours by Employee", "request": { "method": "GET", "url": "{{baseUrl}}/reports/hours-by-employee" } },
        { "name": "Hours by Project ID", "request": { "method": "GET", "url": "{{baseUrl}}/reports/hours-by-project/1" } },
        { "name": "Daily Hours by Commessa", "request": { "method": "GET", "url": "{{baseUrl}}/daily-hours/commessa/1" } },
        { "name": "Daily Hours by Employee", "request": { "method": "GET", "url": "{{baseUrl}}/daily-hours/employee/1" } }
      ]
    },
    {
      "name": "AdminController",
      "item": [
        {
          "name": "Set Absence",
          "request": {
            "method": "PATCH",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "\"VACATION\"" },
            "url": "{{baseUrl}}/admin/timesheets/1/2025-09-30/absence"
          }
        },
        {
          "name": "Override Timesheet",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"COMPLETE\",\n  \"items\": []\n}"
            },
            "url": "{{baseUrl}}/admin/timesheets/1/2025-09-30/override"
          }
        },
        {
          "name": "Update Employee Role",
          "request": {
            "method": "PATCH",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": { "mode": "raw", "raw": "\"ADMIN\"" },
            "url": "{{baseUrl}}/admin/employees/1/role"
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080"
    }
  ]
}
